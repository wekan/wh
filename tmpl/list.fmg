{
 div{class="list",
  div{class="list-title",
   list.name,
   div{class="lists-cards sortable", id="list-" .. list.id,
    each{function(card) return include{"card", {card = card}} end, list.cards},
   },
   -- button for adding another card
   button{class="toggle-add-card", id="btn-add-card-" .. list.id, type="button",
    _="on click toggle .hidden on me toggle .hidden on #add-card-" .. list.id,
    include"icon-plus",
    span"Add another card",
   },
   -- block for editing added card
   div{class="edit-card hidden", id='add-card-' .. list.id,
    div{class="card",
     textarea{class="edit-card-textarea", name="label",
              placeholder='Enter a title for this card...',
              style='height: 34px;', maxlength="300", autofocus="true",
     },
     input{type="hidden", name="listId", value=list.id},
    },
    div{class="edit-buttons",
     button{class="edit-button", type="button", tabindex='0',
            style='background-color: rgb(90, 172, 68);',
            hx={put=makePath("card-save", {listid=list.id}),
                target="#list-" .. list.id,
                params="label",
                swap="beforeend",
            },
            _="on htmx:afterOnLoad toggle .hidden on #add-card-" .. list.id .. " toggle .hidden on #btn-add-card-" .. list.id,
      "Add card",
     },
     div{class="edit-button-cancel", tabindex='0',
         _="on click toggle .hidden on #add-card-" .. list.id .. " toggle .hidden on #btn-add-card-" .. list.id,
      include"icon-close",
     },
    },
   },
  },
 },
}
